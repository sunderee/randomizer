var xhr = new XMLHttpRequest; xhr.addEventListener("readystatechange", function () { 4 === this.readyState && (response = this.responseText, ip = /(?<=ip\=)[\w\.]+$/gm.exec(response), country = /(?<=loc\=)\w+$/gm.exec(response), userAgent = /(?<=uag\=).+$/gm.exec(response), null !== ip && null !== country && null !== userAgent && (console.log(`Accessing website from ${ip[0]}, country ${country}`), console.log(`User agent: ${userAgent}`))) }), xhr.open("GET", "https://www.cloudflare.com/cdn-cgi/trace"), xhr.send();